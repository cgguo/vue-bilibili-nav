webpackJsonp([2,0],{0:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var i=n(41),a=o(i),s=n(80),r=o(s);new a.default({el:"#app",template:"<App/>",components:{App:r.default}})},39:function(t,e){},40:function(t,e){},73:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(78),a=o(i),s=n(38),r=o(s),u=n(75),l=o(u);e.default={name:"app",components:{sortableNav:l.default},data:function(){return{data:[{number:0,name:"动画",pingyin:"DongHua",color:"bg-blue"},{number:1,name:"番剧",pingyin:"FanJu",color:"bg-light-black"},{number:2,name:"游戏",pingyin:"YouXi",color:"bg-green"},{number:3,name:"鬼畜",pingyin:"GuiChu",color:"bg-roseate"},{number:4,name:"音乐",pingyin:"YinYue",color:"bg-light-blue"},{number:5,name:"舞蹈",pingyin:"WuDao",color:"bg-gray"},{number:6,name:"科技",pingyin:"KeJi",color:"bg-brown"},{number:7,name:"生活",pingyin:"ShengHuo",color:"bg-sliver"},{number:8,name:"广告",pingyin:"GuangGao",color:"bg-dark-red"},{number:9,name:"直播",pingyin:"ZhiBo",color:"bg-dark-green"},{number:10,name:"TV剧",pingyin:"TVJu",color:"bg-orange"},{number:11,name:"电影",pingyin:"DianYing",color:"bg-pink"}]}},watch:{data:function(t){var e=(0,r.default)(t,function(t){return t.number});window.localStorage.nav=(0,a.default)(e)}},computed:{options:function t(){var t={offset:150,bindData:this.data,backToTop:0};return t.data=this.data.map(function(t,e){return{name:t.name,target:"section"+e}}),t}},mounted:function(){var t=this,e=window.localStorage.nav;e&&!function(){e=JSON.parse(e);var n=[];(0,r.default)(e,function(e){n.push(t.data[e])}),t.data=n}()}}},74:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(38),a=o(i),s=n(76),r=o(s),u=n(77);e.default={mixins:[r.default],components:{},data:function(){return{mode:"navigation",data:[],isClickScroll:!1,targetValue:0,_screenHeight:0,_left:0,_top:0,time:800,height:32,queueNumber:0,scrollTop:0,isDrag:!1,dragId:0,x:0,y:0,offsetX:0,offsetY:0}},props:{options:{type:Object}},computed:{offset:function(){return this.options.offset||0},active:function t(){if(this.noInScope)return!1;for(var t=null,e=0,n=this.data.length;e<n;e++)this.scrollTop>=this.data[e].offsetTop-this.offset&&(t=e);return t},current:function(){return this.isClickScroll?this.targetValue:this.active},noInScope:function(){return!this.data.length||this.scrollTop<this.data[0].offsetTop-this._screenHeight||this.scrollTop>this.data[this.data.length-1].offsetTop+this.data[this.data.length-1].height},exchangeId:function(){var t=Math.floor(this.y/this.height);return t>this.data.length-1&&(t=this.data.length),t<0&&(t=0),t},dragStyles:function(){return{left:this.x+"px",top:this.y+"px"}}},watch:{options:{deep:!0,handler:function(t,e){this.getData()}}},methods:{init:function(){this.getData(),this.bindEvent(),this._screenHeight=window.screen.availHeight,this._left=this.$refs.ul.getBoundingClientRect().left,this._top=this.$refs.ul.getBoundingClientRect().top},setActive:function(t,e){var n=this;if(t===this.current||!e&&"sortable"===this.mode)return!1;var o=this.data[t].elem;this.isClickScroll=!0,this.targetValue=t,this.queueNumber++,this.scrollToElem(o,this.time,this.offset||0).then(function(){n.queueNumber--,0===n.queueNumber&&(n.isClickScroll=!1)})},bindEvent:function(){document.addEventListener("scroll",this.scroll,!1),document.addEventListener("mousemove",this.dragMove,!1),document.addEventListener("mouseup",this.dragEnd,!1),document.addEventListener("mouseleave",this.dragEnd,!1)},unbindEvent:function(){document.removeEventListener("scroll",this.scroll,!1),document.removeEventListener("mousemove",this.dragMove,!1),document.removeEventListener("mouseup",this.dragEnd,!1),document.removeEventListener("mouseleave",this.dragEnd,!1)},toggleMode:function(){this.mode="navigation"===this.mode?"sortable":"navigation"},getData:function(){this.data=(0,u.sortArr)((0,a.default)(this.options.data,function(t){var e=document.getElementById(t.target);if(!e)return console.error('[vue-sortable-nav]: Unable to find the corresponding elements(Please make sure that there is id for the elements of ["'+t.target+']")');var n=(0,u.getOffsetTop)(e);return{name:t.name,elem:e,offsetTop:n,height:e.offsetHeight}}),"offsetTop")},scroll:function(t){this.scrollTop=window.pageYOffset||document.documentElement.scrollTop+document.body.scrollTop},getPos:function(t){this.x=t.clientX-this._left-this.offsetX,this.y=t.clientY-this._top-this.offsetY},dragStart:function(t,e){return"navigation"!==this.mode&&(this.isDrag=!0,this.dragId=e,this.offsetX=t.offsetX,this.offsetY=t.offsetY,void this.getPos(t))},dragMove:function(t){this.isDrag&&this.getPos(t),t.preventDefault()},dragEnd:function(t){this.isDrag&&(this.isDrag=!1,this.exchangeId!==this.dragId?this.options.bindData.splice(this.exchangeId,0,this.options.bindData.splice(this.dragId,1)[0]):this.setActive(this.dragId,!0))}},mounted:function(){this.init()},beforeDestroy:function(){this.unbindEvent()}}},75:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(81),a=o(i);e.default=a.default},76:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(79),a=o(i);window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var s=function(t,e,n,o){return n*((t=t/o-1)*t*t+1)+e},r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,n=window.pageYOffset||document.documentElement.scrollTop,o=n,i=t-o,r=e,u=null;return new a.default(function(n,a){function l(a){null===u&&(u=a);var c=a-u;if(c<e){var d=s(c,o,i,r);document.body.scrollTop=d,document.documentElement.scrollTop=d,window.requestAnimationFrame(l)}else document.body.scrollTop=t,document.documentElement.scrollTop=t,n(t)}window.requestAnimationFrame(l)})},u=function(t){return t="number"==typeof t?t:800,r(0,t)},l=function(t,e,n){var o=t.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0);return r(o-(n||0),e)};e.default={methods:{scrollToTop:u,scrollToElem:l,scrollTo:r}}},77:function(t,e){"use strict";function n(t){var e,n,o,i=document.documentElement,a=document.body;return e="undefined"!=typeof t.getBoundingClientRect?t.getBoundingClientRect().top:0,n=i.clientTop||a.clientTop||0,o=window.pageYOffset||i.scrollTop,e+o-n}function o(t,e){for(var n=0;n<t.length-1;n++)for(var o=0;o<t.length-1-n;o++)if(t[o][e]>t[o+1][e]){var i=t[o];t[o]=t[o+1],t[o+1]=i}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.getOffsetTop=n,e.sortArr=o},80:function(t,e,n){var o,i;n(39),o=n(73);var a=n(82);i=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(i=o=o.default),"function"==typeof i&&(i=i.options),i.render=a.render,i.staticRenderFns=a.staticRenderFns,t.exports=o},81:function(t,e,n){var o,i;n(40),o=n(74);var a=n(83);i=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(i=o=o.default),"function"==typeof i&&(i=i.options),i.render=a.render,i.staticRenderFns=a.staticRenderFns,t.exports=o},82:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("ul",{staticClass:"section white"},t._l(t.data,function(e,o){return n("li",{class:e.color,attrs:{id:"section"+o}},[n("h3",[t._v(t._s(e.name))]),t._v(" "),n("p",[t._v(t._s(e.pingyin))])])})),t._v(" "),t._m(0),t._v(" "),n("sortable-nav",{attrs:{options:t.options}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",[n("a",{attrs:{href:"https://github.com/NightCatSama"}},[t._v("NightCat")])])}]}},83:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"vue-sortable-nav"},[n("transition",{attrs:{name:"fade"}},["sortable"===t.mode?n("span",[n("div",{staticClass:"tip"}),t._v(" "),n("div",{staticClass:"custom-bg"})]):t._e()]),t._v(" "),n("ul",{ref:"ul",class:["sortable-nav",t.isDrag?"isDraging":"noDraging",{"sortable-mode":"sortable"===t.mode}]},[t._l(t.data,function(e,o){return[t.isDrag&&o===t.exchangeId&&t.exchangeId<=t.dragId?n("li",{class:["sortable-item"]},[n("div",{staticClass:"sortable-item-name"})]):t._e(),t._v(" "),t.isDrag&&o===t.dragId?n("li",{class:["sortable-item","drag-block"],style:t.dragStyles},[n("div",{staticClass:"sortable-item-name"},[t._v(t._s(e.name))])]):n("li",{class:["sortable-item",{active:"navigation"===t.mode&&o===t.current}],on:{click:function(e){t.setActive(o)},mousedown:function(e){t.dragStart(e,o)}}},[n("div",{staticClass:"sortable-item-name"},[t._v(t._s(e.name))])]),t._v(" "),t.isDrag&&o===t.exchangeId&&t.exchangeId>t.dragId?n("li",{class:["sortable-item"]},[n("div",{staticClass:"sortable-item-name"})]):t._e()]}),t._v(" "),t.isDrag&&t.exchangeId===t.data.length?n("li",{class:["sortable-item"]},[n("div",{staticClass:"sortable-item-name"})]):t._e(),t._v(" "),n("li",{staticClass:"sortable-btn",on:{click:t.toggleMode}},[n("i",{staticClass:"sort-icon"}),n("br"),t._v("\n\t\t\t排序\n\t\t")]),t._v(" "),t.noInScope||"navigation"!==t.mode?t._e():n("li",{staticClass:"pointer-block",style:{top:t.current*t.height+"px"}})],2),t._v(" "),t.scrollTop>=this.options.backToTop?n("div",{staticClass:"vue-backtotop-btn",on:{click:function(e){t.scrollToTop(t.time)}}},[n("i",{staticClass:"backtotop-icon"})]):t._e()],1)},staticRenderFns:[]}}});
//# sourceMappingURL=app.3fc0c1bc366f12c6143f.js.map